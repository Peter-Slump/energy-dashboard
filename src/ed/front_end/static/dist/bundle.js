webpackJsonp([0],{0:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),o=a(n),l=r(34),i=r(164);a(i);r(173);var s=r(175),u=a(s),d=r(649),c=a(d),f=r(650),p=a(f),m=r(659),h=a(m),E=r(660),g=a(E),_=r(201),y=r(189),v=r(661),b=a(v),O=r(200),T=a(O);T["default"].ajaxSetup({contentType:"application/json; charset=utf-8",dataType:"json"});var w=o["default"].createElement(y.Provider,{store:b["default"]},o["default"].createElement(_.Router,{history:v.history},o["default"].createElement(_.Route,{path:"/",component:u["default"]},o["default"].createElement(_.IndexRoute,{component:p["default"]}),o["default"].createElement(_.Route,{path:"/login",component:h["default"]}),o["default"].createElement(_.Route,{path:"/logout",component:g["default"]}),o["default"].createElement(_.Route,{path:"/credits",component:c["default"]}))));(0,l.render)(w,document.getElementById("root"))},173:function(e,t,r){var a=r(174);"string"==typeof a&&(a=[[e.id,a,""]]);r(172)(a,{});a.locals&&(e.exports=a.locals)},174:function(e,t,r){t=e.exports=r(166)(),t.push([e.id,".row-bottom-spacing{margin-bottom:20px}.language-select ul.dropdown-menu{min-width:auto}.navbar-brand img{width:25px}.navbar-text{margin-left:1em}.alert-notifier-container{position:fixed;top:20px;right:20px;width:250px;padding:5px;z-index:9999}.alert-notifier-container .alert-enter{opacity:.01;transition:opacity .25s ease-in}.alert-notifier-container .alert-enter.alert-enter-active{opacity:1}.alert-notifier-container .alert-leave{opacity:1;transition:opacity .25s ease-in}.alert-notifier-container .alert-leave.alert-leave-active{opacity:.01}footer{margin:5em 0}footer li{float:left;margin-bottom:1.5em;margin-right:1.5em}footer p{clear:left;margin-bottom:0}",""])},175:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return{api:e.api,auth:e.auth,language:e.language,notification:e.notification,powerMeter:e.powerMeter,report:e.report,reportPeriod:e.reportPeriod,user:e.user}}function l(e){return{apiActions:(0,i.bindActionCreators)(d,e),authActions:(0,i.bindActionCreators)(f,e),languageActions:(0,i.bindActionCreators)(m,e),notificationActions:(0,i.bindActionCreators)(E,e),powerMeterActions:(0,i.bindActionCreators)(_,e),reportActions:(0,i.bindActionCreators)(v,e),reportPeriodActions:(0,i.bindActionCreators)(O,e),userActions:(0,i.bindActionCreators)(w,e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(176),s=r(189),u=r(198),d=n(u),c=r(261),f=n(c),p=r(268),m=n(p),h=r(260),E=n(h),g=r(372),_=n(g),y=r(373),v=n(y),b=r(374),O=n(b),T=r(262),w=n(T),R=r(375),C=a(R),M=(0,s.connect)(o,l)(C["default"]);t["default"]=M,e.exports=t["default"]},198:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return{type:m,path:e,method:t,data:r}}function o(e){return{type:h,data:e}}function l(e,t,r){return{type:E,code:e.status,error:r,status:t}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?"GET":arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return function(a){return a(n(e,t,r)),new Promise(function(n,i){c["default"].ajax({url:e,method:t,data:r?JSON.stringify(r):null,beforeSend:function(e,t){e.setRequestHeader("X-CSRFToken",u["default"].get("csrftoken"))},statusCode:{403:function(){f.browserHistory.push("/login")}}}).success(function(e){a(o(e)),n(e)}).error(function(e,t,r){-1==[400,403].indexOf(e.status)&&a((0,p.notificationAdd)(r,"warning","API Error")),a(l(e,t,r)),i(e,t,r)})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.apiRequest=n,t.apiRequestSuccess=o,t.apiRequestFailed=l,t.callApi=i;var s=r(199),u=a(s),d=r(200),c=a(d),f=r(201),p=r(260),m="API_REQUEST";t.API_REQUEST=m;var h="API_REQUEST_SUCCESS";t.API_REQUEST_SUCCESS=h;var E="API_REQUEST_FAILED";t.API_REQUEST_FAILED=E},260:function(e,t){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?"info":arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],n=arguments.length<=3||void 0===arguments[3]?1e4:arguments[3];return{type:a,message:e,level:t,headline:r,timeout:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.notificationAdd=r;var a="NOTIFICATION_ADD";t.NOTIFICATION_ADD=a},261:function(e,t,r){"use strict";function a(){return{type:h}}function n(e){return{type:E,key:e}}function o(e){return{type:g,error:e}}function l(){return{type:_}}function i(){return{type:y}}function s(){return function(e){return e(l()),e((0,d.callApi)("/rest-auth/logout/","POST")).then(function(t){e(i()),e((0,f.notificationAdd)(t.success,"info",(0,m.t)("Logged out")))})}}function u(e,t){return function(r){return r(a()),r((0,d.callApi)("/rest-auth/login/","POST",{username:e,password:t})).then(function(e){r(n(e.key)),r((0,c.fetchUser)()),p.browserHistory.push("/")},function(e,t,a){r(o(a)),400==e.status&&r((0,f.notificationAdd)(e.responseJSON.non_field_errors,"error",(0,m.t)("Login failed")))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestLogin=a,t.loggedIn=n,t.loginFailed=o,t.requestLogout=l,t.loggedOut=i,t.logout=s,t.login=u;var d=r(198),c=r(262),f=r(260),p=r(201),m=r(263),h="AUTH_REQUEST_LOGIN";t.AUTH_REQUEST_LOGIN=h;var E="AUTH_LOGGED_IN";t.AUTH_LOGGED_IN=E;var g="AUTH_LOGIN_FAILED";t.AUTH_LOGIN_FAILED=g;var _="AUTH_REQUEST_LOGOUT";t.AUTH_REQUEST_LOGOUT=_;var y="AUTH_LOGGED_OUT";t.AUTH_LOGGED_OUT=y},262:function(e,t,r){"use strict";function a(){return{type:i}}function n(e,t,r,a){return{type:s,username:e,firstName:t,lastName:r,email:a}}function o(){return function(e){return e(a()),e((0,l.callApi)("/rest-auth/user/")).then(function(t){return e(n(t.username,t.first_name,t.last_name,t.email))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestUser=a,t.receiveUser=n,t.fetchUser=o;var l=r(198),i="REQUEST_USER";t.REQUEST_USER=i;var s="RECEIVE_USER";t.RECEIVE_USER=s},263:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return r(265)("./"+e+".po")}function o(e){var t=n(e);d=new u["default"]({domain:"ed",missing_key_callback:function(e){},locale_data:{ed:t}})}function l(e){return d.translate(e).fetch()}function i(e,t,r){return d.translate(e).ifPlural(r,t).fetch(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLocale=o;var s=r(264),u=a(s),d=null;o("en");var c=l;t.t=c;var f=i;t.tn=f;var p=u["default"].sprintf;t.sprintf=p},265:function(e,t,r){function a(e){return r(n(e))}function n(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./en.po":266,"./nl.po":267};a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id=265},266:function(e,t){e.exports={Credits:["Credits"],"This project is made possible with the following tools":["This project is made possible with the following tools"],"Logging you out...":["Logging you out..."],Authenticate:["Authenticate"],Username:["Username"],Password:["Password"],Login:["Login"],"Logged out":["Logged out"],"Login failed":["Login failed"],"This year":["This year"],"Last year":["Last year"],"This month":["This month"],"Last month":["Last month"],"This week":["This week"],"Last week":["Last week"],"Week:":["Week:"],Today:["Today"],Yesterday:["Yesterday"],Last:["Last"],Unknown:["Unknown"],Year:["Year"],Month:["Month"],Week:["Week"],Day:["Day"],"Created by":["Created by"],"Fetching...":["Fetching..."],"Not logged in":["Not logged in"],"Energy Dashboard":["Energy Dashboard"],Logout:["Logout"],Dismiss:["Dismiss"],"Signed in as %s %s":["Signed in as %s %s"],"Signed in as %s":["Signed in as %s"],Dutch:["Dutch"],English:["English"],"":{domain:"messages",plural_forms:"nplurals=2; plural=(n != 1);",lang:"en"}}},267:function(e,t){e.exports={Credits:["Credits"],"This project is made possible with the following tools":["Dit project is mede mogelijk gemaakt door de volgende hulpmiddelen"],"Logging you out...":["Je wordt uitgelogt"],Authenticate:["Aanmelden"],Username:["Gebruikersnaam"],Password:["Wachtwoord"],Login:["Inloggen"],"Logged out":["Uitgelogt"],"Login failed":["Login niet gelukt"],"This year":["Dit jaar"],"Last year":["Afgelopen jaar"],"This month":["Deze maand"],"Last month":["Afgelopen maand"],"This week":["Deze week"],"Last week":["Vorige week"],"Week:":["Week:"],Today:["Vandaag"],Yesterday:["Gisteren"],Last:["Afgelopen"],Unknown:["Onbekend"],Year:["Jaar"],Month:["Maand"],Week:["Week"],Day:["Dag"],"Created by":["Gemaakt door"],"Fetching...":["Ophalen..."],"Not logged in":["Niet ingelogt"],"Energy Dashboard":["Energie Dashboard"],Logout:["Uitloggen"],Dismiss:["Negeren"],"Signed in as %s %s":["Ingelogd als %s %s"],"Signed in as %s":["Ingelogd als %s"],Dutch:["Nederlands"],English:["Engels"],kWh:["kWh"],Watt:["Watt"]," W":["W"]," kWh":[" kWh"]," m³":[" m³"],"":{domain:"messages",plural_forms:"nplurals=2; plural=(n != 1);",lang:"nl"}}},268:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return{type:c,code:e}}function o(e){return function(t){return new Promise(function(r,a){var o="GB"==e?"EN":e;(0,l.setLocale)(o.toLowerCase()),s["default"].locale(o.toLowerCase()),d["default"].set("lang",e),t(n(e)),r(e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.changed=n,t.changeLanguage=o;var l=r(263),i=r(269),s=a(i),u=r(199),d=a(u),c="LANGUAGE_CHANGED";t.LANGUAGE_CHANGED=c},372:function(e,t,r){"use strict";function a(){return{type:u}}function n(e){return{type:d,powerMeters:e}}function o(e){return{type:c,error:e}}function l(e,t){return{type:f,id:e,isSelected:t}}function i(){return function(e,t){return e(a()),e((0,s.callApi)("/api/power-meter/")).then(function(t){return e(n(t))},function(t,r,a){return e(o(a))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPowerMeters=a,t.fetchPowerMetersSuccess=n,t.fetchPowerMetersFailed=o,t.changeSelectedPowerMeter=l,t.receivePowerMeters=i;var s=r(198),u="FETCH_POWER_METERS";t.FETCH_POWER_METERS=u;var d="FETCH_POWER_METERS_SUCCESS";t.FETCH_POWER_METERS_SUCCESS=d;var c="FETCH_POWER_METERS_FAILED";t.FETCH_POWER_METERS_FAILED=c;var f="CHANGE_SELECTED_POWER_METER";t.CHANGE_SELECTED_POWER_METER=f},373:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return{type:m,powerMeterId:e}}function o(e){return{type:h,powerMeterId:e}}function l(e,t,r,a,n){return{type:E,powerMeterId:e,report:t,start:r,end:a,stepSize:n}}function i(e,t){return{type:g,powerMeterId:e,error:t}}function s(){return function(e,t){var r=t(),a=r.reportPeriod.offset,n=null,o=(0,p["default"])().set({hour:0,minute:0,second:0,millisecond:0}),l=(0,p["default"])().set({hour:0,minute:0,second:0,millisecond:0});switch(r.reportPeriod.period){case"day":o.add(a,"days"),l.add(a+1,"days"),n="minute";break;case"week":o.day(0),l.day(0),o.add(a,"weeks"),l.add(a+1,"weeks"),n="hour";break;case"month":o.date(1),l.date(1),o.add(a,"months"),l.add(a+1,"months"),n="day";break;case"year":o.set({date:1,month:0}),l.set({date:1,month:0}),o.add(a,"years"),l.add(a+1,"years"),n="month"}Promise.all(Object.keys(r.powerMeter.powerMetersById).map(function(t){return u(r,t,n,o,l)?e(d(t,n,o,l)):Promise.resolve()}))}}function u(e,t,r,a,n){var o=e.powerMeter.powerMetersById[t];if(!o||!o.isSelected)return!1;var l=e.report[t];return l?l.stepSize!=r||l.start!=a||l.end!=n:!0}function d(e,t,r,a){return function(n){return n(o(e)),n((0,c.callApi)("/api/reading-report/"+e+"/"+t+"/"+r.toISOString()+"/"+a.toISOString()+"/")).then(function(o){return n(l(e,o,r,a,t))},function(t,r,a){return n(i(e,a))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.invalidateReport=n,t.fetchReport=o,t.fetchReportSuccess=l,t.fetchReportFailed=i,t.receiveReportsIfNeeded=s;var c=r(198),f=r(269),p=a(f),m="INVALIDATE_REPORT";t.INVALIDATE_REPORT=m;var h="FETCH_REPORT";t.FETCH_REPORT=h;var E="FETCH_REPORT_SUCCESS";t.FETCH_REPORT_SUCCESS=E;var g="FETCH_REPORT_FAILED";t.FETCH_REPORT_FAILED=g},374:function(e,t){"use strict";function r(e){return{type:n,period:e}}function a(e){return{type:o,delta:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeReportPeriod=r,t.changeReportPeriodOffset=a;var n="CHANGE_REPORT_PERIOD";t.CHANGE_REPORT_PERIOD=n;var o="CHANGE_REPORT_PERIOD_OFFSET";t.CHANGE_REPORT_PERIOD_OFFSET=o},375:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=r(201),s=r(639),u=a(s),d=r(641),c=a(d),f=r(263),p=o["default"].createClass({displayName:"Main",render:function(){var e=Object.assign({},this.props);return delete e.key,delete e.ref,o["default"].createElement("div",null,o["default"].createElement(u["default"],this.props),o["default"].cloneElement(this.props.children,e),o["default"].createElement("footer",null,o["default"].createElement(l.Grid,{fluid:!1},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{md:12},o["default"].createElement("ul",{className:"list-unstyled"},o["default"].createElement("li",null,o["default"].createElement(i.Link,{to:"/credits"},(0,f.t)("Credits"))),o["default"].createElement("li",null,o["default"].createElement("a",{href:"https://github.com/Peter-Slump/energy-dashboard"},"Github"))),o["default"].createElement("p",null,(0,f.t)("Created by")," ",o["default"].createElement("a",{href:"http://peter-slump.nl/"},"Peter Slump")))))),o["default"].createElement(c["default"],{alerts:e.notification||[]}))}});t["default"]=p,e.exports=t["default"]},639:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=r(201),s=r(263),u=r(640),d=a(u),c=o["default"].createClass({displayName:"Header",render:function(){var e=this.props,t=e.auth,r=e.user,a="";return a=t.loggedIn?r.isFetching?(0,s.t)("Fetching..."):r.firstName||r.lastName?(0,s.sprintf)((0,s.t)("Signed in as %s %s"),r.firstName,r.lastName):(0,s.sprintf)((0,s.t)("Signed in as %s"),r.username):(0,s.t)("Not logged in"),o["default"].createElement(l.Navbar,null,o["default"].createElement(l.Navbar.Header,null,o["default"].createElement(l.Navbar.Brand,null,o["default"].createElement(i.Link,{to:"/"},o["default"].createElement("img",{alt:(0,s.t)("Energy Dashboard"),title:(0,s.t)("Energy Dashboard"),src:"static/image/logo.png"}))),o["default"].createElement(l.Navbar.Toggle,null)),o["default"].createElement(l.Navbar.Collapse,null,o["default"].createElement(l.Nav,{pullRight:!0},o["default"].createElement(l.Navbar.Text,null,a),o["default"].createElement("li",null,o["default"].createElement(i.Link,{to:t.loggedIn?"/logout":"/login"},t.loggedIn?(0,s.t)("Logout"):(0,s.t)("Login"))),o["default"].createElement(d["default"],this.props))))}});t["default"]=c,e.exports=t["default"]},640:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=(r(263),o["default"].createClass({displayName:"LanguageSelect",setLanguage:function(e){var t=this.props.languageActions;t.changeLanguage(e)},render:function(){var e=this,t=this.props.language,r=t.availableLanguages;return o["default"].createElement(l.Dropdown,{componentClass:"li",id:"language-select",className:"language-select"},o["default"].createElement(l.Dropdown.Toggle,{useAnchor:!0},o["default"].createElement("img",{src:"static/image/flags/24x24/"+t.code+".png"})),o["default"].createElement(l.Dropdown.Menu,null,Object.keys(r).map(function(t){return o["default"].createElement(l.MenuItem,{key:t,onClick:e.setLanguage.bind(null,t),language:t},o["default"].createElement("img",{src:"static/image/flags/24x24/"+t+".png"}))})))}}));t["default"]=i,e.exports=t["default"]},641:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),o=a(n),l=r(642),i=a(l),s=r(263),u=o["default"].createClass({displayName:"AlertsNotifier",propTypes:{alerts:o["default"].PropTypes.array.isRequired,onDismiss:o["default"].PropTypes.func},getInitialState:function(){return{dismissedAlerts:[]}},dismiss:function(e){if(this.props.onDismiss)this.props.onDismiss(e);else{var t=this.state.dismissedAlerts.slice();t.push(e),this.setState({dismissedAlerts:t})}},render:function(){for(var e=[],t=500,r=300,a=0;a<this.props.alerts.length;a++)if(this.state.dismissedAlerts.indexOf(this.props.alerts[a])<0){var n=this.props.alerts[a];e.push(n),n.timeout&&setTimeout(this.dismiss.bind(this,n),n.timeout+t+r)}return a=-1,o["default"].createElement("div",{className:"alert-notifier-container"},o["default"].createElement(i["default"],{transitionName:"alert",transitionEnterTimeout:t,transitionLeaveTimeout:r},e.map(function(e){a++,["success","info","warning","danger"].indexOf(e.type)<0&&(console.log(e.type),e.type="info");var t="alert alert-dismissible alert-"+e.type,r=e.headline?o["default"].createElement("strong",null,e.headline," ",o["default"].createElement("br",null)):null;return o["default"].createElement("div",{className:t,key:a},o["default"].createElement("button",{type:"button",className:"close",title:(0,s.t)("Dismiss"),onClick:this.dismiss.bind(this,e)},"×"),r,e.message)}.bind(this))))}});e.exports=u},649:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=r(263),s=o["default"].createClass({displayName:"Credits",render:function(){return o["default"].createElement(l.Grid,{fluid:!1},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{md:12},o["default"].createElement(l.PageHeader,null,(0,i.t)("Credits")),o["default"].createElement("p",null,(0,i.t)("This project is made possible with the following tools")),o["default"].createElement("h4",null,"Back-end"),o["default"].createElement("a",{href:"https://www.djangoproject.com/"},"Django project"),o["default"].createElement("br",null),o["default"].createElement("a",{href:"http://www.django-rest-framework.org/"},"Django Rest Framework"),o["default"].createElement("h4",null,"Front-end"),o["default"].createElement("a",{href:"https://facebook.github.io/react/"},"React"),o["default"].createElement("br",null),o["default"].createElement("a",{href:"https://react-bootstrap.github.io/"},"React Bootstrap"),o["default"].createElement("br",null),o["default"].createElement("a",{href:"http://redux.js.org"},"React Redux"),o["default"].createElement("br",null),o["default"].createElement("a",{href:"https://github.com/reactjs/react-router"},"React Router"),o["default"].createElement("h4",null,"Styling"),o["default"].createElement("a",{href:"https://getboostrap.com/"},"Twitter Bootstrap"),o["default"].createElement("br",null),o["default"].createElement("a",{href:"https://bootswatch.com/paper/"},"Bootswatch Paper theme"))))}});t["default"]=s,e.exports=t["default"]},650:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=r(651),s=a(i),u=r(656),d=a(u),c=r(657),f=a(c),p=r(658),m=a(p),h=o["default"].createClass({displayName:"Dashboard",mixins:[m["default"]],componentDidMount:function(){var e=this;this.props.powerMeterActions.receivePowerMeters().then(function(){return e.props.reportActions.receiveReportsIfNeeded()})},render:function(){return o["default"].createElement(l.Grid,{fluid:!1},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{xs:12,md:12},o["default"].createElement(l.Panel,null,o["default"].createElement(f["default"],this.props),o["default"].createElement(l.Clearfix,null),o["default"].createElement(s["default"],this.props),o["default"].createElement(d["default"],this.props)))))}});t["default"]=h,e.exports=t["default"]},651:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(200),o=(a(n),r(1)),l=a(o),i=r(652),s=a(i),u=l["default"].createClass({displayName:"ChartWrapper",render:function(){var e=this.props,t=e.report,r=e.powerMeter,a=[],n=void 0,o=new Date,i="hour";return Object.keys(t).map(function(e){var l=r.powerMetersById[e];l.isSelected&&(a.push({data:t[e].items.map(function(r){var a=parseFloat(r.value_increment);return"kwh"==l.data.unit&&"minute"==t[e].stepSize&&(a=1e3*a*60),[new Date(r.datetime),a]}),yaxis:"kwh"==l.data.unit?1:2,color:l.color,shadowSize:0,label:l.data.name,unit:l.data.unit,lines:{zero:!1,lineWidth:2,show:!0,fill:!0,steps:!1}}),n=t[e].start,o=t[e].end,i=t[e].stepSize)}),l["default"].createElement(s["default"],{style:{height:250},start:n,end:o,stepSize:i,className:"row-bottom-spacing",plotData:a})}});t["default"]=u,e.exports=t["default"]},652:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(34),i=a(l),s=r(200),u=a(s),d=r(269),c=a(d),f=r(263);r(653),r(654),r(655);var p=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},m=function(e,t){return function(r,a,n,o){var l=o.series,i=o.dataIndex,s=l.data[i][0],u=void 0,d=void 0,c='<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">';c+=h(s,l.xaxis.options.minTickSize[1]),c+='</h3></div><div class="panel-body">';for(var m=0;m<e.length;m++){switch(u=e[m].data.find(function(e){return e[0].valueOf()==s.valueOf()}),u=void 0===u?"-":p(u[1]),e[m].unit){case"m3":d="m³";break;case"kwh":d="minute"==t?(0,f.t)("Watt"):(0,f.t)("kWh");break;default:d=""}c+='<strong style="color:'+e[m].color+'">',c+=e[m].label+":</strong> "+u,"-"!=u&&(c+=' <span class="text-muted">'+d+"</span>"),c+="<br>"}return c+="</div></div>"}},h=function(e,t){var r=(0,c["default"])(e),a=void 0;switch(t){case"minute":case"hour":a="LLL";break;case"day":a="LL";break;case"month":a="MMMM YYYY";break;default:a="LTS"}return r.format(a)},E=o["default"].createClass({displayName:"FlotChart",propTypes:{plotData:o["default"].PropTypes.array,style:o["default"].PropTypes.object},componentDidMount:function(){this.renderChart(),(0,u["default"])(window).resize(this.renderChart)},componentDidUpdate:function(){this.renderChart()},componentWillUnmount:function(){(0,u["default"])(window).unbind("resize",this.renderChart)},renderChart:function(e){var t=this.props.plotData,r=this.props.stepSize,a={xaxis:{mode:"time",timezone:"browser",minTickSize:[1,this.props.stepSize],min:this.props.start,max:this.props.end,color:"#666666",monthNames:c["default"].monthsShort("-MMM-")},yaxis:{min:0,minTickSize:.001,tickDecimals:3,color:"#222222"},yaxes:[{position:"left",tickFormatter:function(e,t){return"minute"==r?e.toFixed(0)+(0,f.t)(" W"):e.toFixed(t.tickDecimals)+(0,f.t)(" kWh")}},{position:"right",tickFormatter:function(e,t){return e.toFixed(t.tickDecimals)+(0,f.t)(" m³")}}],tooltip:!0,tooltipOpts:{content:m(t,this.props.stepSize),defaultTheme:!1},grid:{show:!0,hoverable:!0,backgroundColor:"#FFFFFF",borderColor:"#DDDDDD",borderWidth:1,color:"#666666",tickColor:"#DDDDDD"},hoverable:!1,legend:{noColumns:t.length,position:"nw"}},n=i["default"].findDOMNode(this.refs.chartNode);u["default"].plot(n,t,a)},render:function(){return o["default"].createElement("figure",{className:this.props.className||"chart",style:this.props.style,ref:"chartNode"})}});t["default"]=E,e.exports=t["default"]},656:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=o["default"].createClass({displayName:"PowerMeterSelect",handleChange:function(e){var t=this.props,r=t.powerMeterActions,a=t.reportActions;r.changeSelectedPowerMeter(e.target.value,e.target.checked),a.receiveReportsIfNeeded()},render:function(){var e=this,t=this.props.powerMeter.powerMetersById;return o["default"].createElement(l.Form,{componentClass:"fieldset",inline:!0},o["default"].createElement(l.FormGroup,null,Object.keys(t).map(function(r){return o["default"].createElement(l.Checkbox,{checked:t[r].isSelected,key:t[r].data.id,value:t[r].data.id,onChange:e.handleChange},t[r].data.name)})))}});t["default"]=i,e.exports=t["default"]},657:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(269),o=a(n),l=r(1),i=a(l),s=r(376),u=r(263),d=i["default"].createClass({displayName:"ReadingsViewPresets",handleClick:function(e){var t=this.props,r=t.reportPeriodActions,a=t.reportActions;r.changeReportPeriod(e.target.value),a.receiveReportsIfNeeded()},handleOffsetClick:function(e){var t=this.props,r=t.reportPeriodActions,a=t.reportActions;r.changeReportPeriodOffset(parseInt(e.currentTarget.value)),a.receiveReportsIfNeeded()},render:function(){var e=this.props.reportPeriod,t=e.period,r=e.offset,a="",n=(0,o["default"])();switch(t){case"year":switch(r){case 0:a=(0,u.t)("This year");break;case-1:a=(0,u.t)("Last year");break;default:n.add(r,"years"),a=n.format("YYYY")}break;case"month":switch(r){case 0:a=(0,u.t)("This month");break;case-1:a=(0,u.t)("Last month");break;default:n.add(r,"months"),a=n.format(r>-12?"MMMM":"MMM YYYY")}break;case"week":switch(r){case 0:a=(0,u.t)("This week");break;case-1:a=(0,u.t)("Last week");break;default:n.add(r,"weeks"),a=n.format(r>-52?"["+(0,u.t)("Week:")+"] w":"["+(0,u.t)("Week:")+"] w YYYY")}break;case"day":switch(r){case 0:a=(0,u.t)("Today");break;case-1:a=(0,u.t)("Yesterday");break;case-2:case-3:case-4:case-5:case-6:n.add(r,"days"),a=n.format("["+(0,u.t)("Last")+"] dddd");break;default:n.add(r,"days"),a=n.format(r>-365?"MMMM Do":"MMMM Do YYYY")}break;default:a=(0,u.t)("Unknown")}return i["default"].createElement(s.Row,null,i["default"].createElement(s.Col,{xs:12,md:4,className:"row-bottom-spacing"},i["default"].createElement(s.ButtonGroup,null,i["default"].createElement(s.Button,{active:"year"==e.period,value:"year",onClick:this.handleClick},(0,u.t)("Year")),i["default"].createElement(s.Button,{active:"month"==e.period,value:"month",onClick:this.handleClick},(0,u.t)("Month")),i["default"].createElement(s.Button,{active:"week"==e.period,value:"week",onClick:this.handleClick},(0,u.t)("Week")),i["default"].createElement(s.Button,{active:"day"==e.period,value:"day",onClick:this.handleClick},(0,u.t)("Day")))),i["default"].createElement(s.Col,{xs:12,md:4,className:"row-bottom-spacing"},i["default"].createElement(s.ButtonGroup,null,i["default"].createElement(s.Button,{value:-1,onClick:this.handleOffsetClick},i["default"].createElement(s.Glyphicon,{glyph:"chevron-left"})),i["default"].createElement(s.Button,{value:1,onClick:this.handleOffsetClick},i["default"].createElement(s.Glyphicon,{glyph:"chevron-right"})),i["default"].createElement(s.Button,{disabled:!0},a))))}});t["default"]=d,e.exports=t["default"]},658:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(201),n={componentWillMount:function(){var e=this.props.auth;e.loggedIn||a.browserHistory.push("/login")}};t["default"]=n,e.exports=t["default"]},659:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(34),i=a(l),s=r(376),u=r(263),d=o["default"].createClass({displayName:"Login",handleSubmit:function(e){e.preventDefault();var t=this.refs,r=t.username,a=t.password,n=t.loginForm;this.props.authActions.login(i["default"].findDOMNode(r).value,i["default"].findDOMNode(a).value),i["default"].findDOMNode(n).reset()},render:function(){return o["default"].createElement(s.Grid,{fluid:!1},o["default"].createElement(s.Row,null,o["default"].createElement(s.Col,{xsOffset:3,xsOffset:0,xs:12,mdOffset:3,md:6},o["default"].createElement(s.Panel,null,o["default"].createElement("h4",null,(0,u.t)("Authenticate")),o["default"].createElement(s.Form,{horizontal:!0,ref:"loginForm",onSubmit:this.handleSubmit},o["default"].createElement(s.FormGroup,{controlId:"formHorizontalEmail"},o["default"].createElement(s.Col,{sm:12},o["default"].createElement(s.FormControl,{type:"text",ref:"username",placeholder:(0,u.t)("Username")}))),o["default"].createElement(s.FormGroup,{controlId:"formHorizontalPassword"},o["default"].createElement(s.Col,{sm:12},o["default"].createElement(s.FormControl,{type:"password",ref:"password",placeholder:(0,u.t)("Password")}))),o["default"].createElement(s.FormGroup,null,o["default"].createElement(s.Col,{sm:12},o["default"].createElement(s.Button,{type:"submit"},(0,u.t)("Login")))))))))}});t["default"]=d,e.exports=t["default"]},660:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=a(n),l=r(376),i=r(201),s=r(263),u=o["default"].createClass({displayName:"Logout",componentDidMount:function(){this.props.authActions.logout().then(function(){return i.browserHistory.push("/login")})},render:function(){return o["default"].createElement(l.Grid,{fluid:!1},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{md:12},o["default"].createElement("p",null,(0,s.t)("Logging you out...")))))}});t["default"]=u,e.exports=t["default"]},661:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(176),o=r(662),l=a(o),i=r(201),s=r(663),u=r(199),d=a(u),c=r(668),f=a(c),p=r(262),m=r(268),h=(0,n.createStore)(f["default"],(0,n.applyMiddleware)(l["default"]));h.dispatch((0,p.fetchUser)()).then(function(e){return i.browserHistory.push("/")}),h.dispatch((0,m.changeLanguage)(d["default"].get("lang")||"en"));var E=(0,s.syncHistoryWithStore)(i.browserHistory,h);t.history=E,t["default"]=h},668:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(176),o=r(663),l=r(669),i=a(l),s=r(670),u=a(s),d=r(671),c=a(d),f=r(672),p=a(f),m=r(673),h=a(m),E=r(674),g=a(E),_=r(675),y=a(_),v=r(676),b=a(v),O=(0,n.combineReducers)({api:i["default"],auth:u["default"],language:c["default"],notification:p["default"],powerMeter:h["default"],report:g["default"],reportPeriod:y["default"],routing:o.routerReducer,user:b["default"]});t["default"]=O,e.exports=t["default"]},669:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e={currentRequests:0,errors:[],shownErrorIndex:0}),t.type){case n.API_REQUEST_SUCCESS:return Object.assign({},e,{currentRequests:e.currentRequests-1});case n.API_REQUEST:return Object.assign({},e,{currentRequests:e.currentRequests+1});case n.API_REQUEST_FAILED:var e=Object.assign({},e,{currentRequests:e.currentRequests-1});return e.errors.push(t.error),e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(198);e.exports=t["default"]},670:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e={loggedIn:!1,key:null}),t.type){case o.RECEIVE_USER:return Object.assign({},e,{loggedIn:!0});case n.AUTH_LOGGED_IN:return Object.assign({},e,{loggedIn:!0,key:t.key});case n.AUTH_LOGGED_OUT:return Object.assign({},e,{loggedIn:!1,key:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(261),o=r(262);e.exports=t["default"]},671:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e=o),t.type){case n.LANGUAGE_CHANGED:return Object.assign({},e,{code:t.code});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(268),o=(r(263),{code:"GB",availableLanguages:{NL:"Dutch",GB:"English"}});e.exports=t["default"]},672:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e=[]),t.type){case n.NOTIFICATION_ADD:return e.concat([{message:t.message,type:t.level,headline:t.headline,timeout:t.timeout}]);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(260);e.exports=t["default"]},673:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e={data:null,isSelected:!0}),t.type){case o.CHANGE_SELECTED_POWER_METER:return Object.assign({},e,{isSelected:t.isSelected});case o.FETCH_POWER_METERS_SUCCESS:
return Object.assign({},e,{data:t.data,color:t.color});default:return e}}function n(e,t){void 0===e&&(e=s);var r=null;switch(t.type){case l.AUTH_LOGGED_OUT:return s;case o.CHANGE_SELECTED_POWER_METER:return r=Object.assign({},e),r.powerMetersById[t.id]=a(e.powerMetersById[t.id],t),r;case o.FETCH_POWER_METERS:return Object.assign({},e,{isFetching:!0});case o.FETCH_POWER_METERS_SUCCESS:return r=Object.assign({},e,{isFetching:!1}),t.powerMeters.forEach(function(n,o){r.powerMetersById[n.id]=a(e.powerMetersById[n.id],Object.assign({},t,{data:n,color:i[(o+1)%i.length-1]}))}),r;case o.FETCH_POWER_METERS_FAILED:return Object.assign({},e,{isFetching:!1,error:t.error});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(372),l=r(261),i=["#2196F3","#4CAF50","#9C27B0","#ff9800","#e51c23"],s={isFetching:!1,error:null,powerMetersById:{}};e.exports=t["default"]},674:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){switch(void 0===e&&(e={items:[],isFetching:!1,error:null,start:null,end:null,stepSize:null,didInvalidate:!1}),t.type){case u.INVALIDATE_REPORT:return Object.assign({},e,{didInvalidate:!0});case u.FETCH_REPORT:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case u.FETCH_REPORT_SUCCESS:return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.report,start:t.start,end:t.end,stepSize:t.stepSize,error:null});case u.FETCH_REPORT_FAILED:return Object.assign({},e,{isFetching:!1,error:t.error});default:return e}}function l(e,t){switch(void 0===e&&(e={}),t.type){case d.AUTH_LOGGED_OUT:return{};case u.INVALIDATE_REPORT:case u.FETCH_REPORT:case u.FETCH_REPORT_SUCCESS:case u.FETCH_REPORT_FAILED:return Object.assign({},e,n({},t.powerMeterId,o(e[t.powerMeterId],t)));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var i=r(200),s=(a(i),r(661)),u=(a(s),r(373)),d=r(261);e.exports=t["default"]},675:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e=l),t.type){case o.AUTH_LOGGED_OUT:return l;case n.CHANGE_REPORT_PERIOD:return Object.assign({},e,{period:t.period,offset:0});case n.CHANGE_REPORT_PERIOD_OFFSET:var r=e.offset;return r+=t.delta,Object.assign({},e,{offset:r>0?0:r});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(374),o=r(261),l={period:"day",offset:0};e.exports=t["default"]},676:function(e,t,r){"use strict";function a(e,t){switch(void 0===e&&(e=l),t.type){case n.REQUEST_USER:return Object.assign({},e,{isFetching:!0});case n.RECEIVE_USER:return Object.assign({},e,{isFetching:!1,username:t.username,firstName:t.firstName,lastName:t.lastName,email:t.email});case o.AUTH_LOGGED_OUT:return l;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(262),o=r(261),l={username:null,firstName:null,lastName:null,email:null,isFetching:!1};e.exports=t["default"]}});